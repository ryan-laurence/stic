<script>
$(function() {
		// WS Constants
		var ds_list = DS_AUDITTRAIL_LIST;
		var ws_list = WS_AUDITTRAIL_LIST;
		
		// ID & Fields
		var dt_domId = '#table-eventlog';
		var dt_recId = 'id';
		var dt_fields = [ 'id', 'user_id', 'activity', 'rec_timestamp', 'user_name' ];
		var dt_columns = [
				{ "data": "id", "visible": false },
				{ "data": "user_id", "visible": false },
				{ "data": "rec_timestamp" },
				{ "data": "activity" },
				{ "data": "user_name" }
			];
		var printToFileName = "AuditTrail-History-"+ getCurrentDate();
		var oTableTools = {
				"sSwfPath": "/scaletech/swf/copy_csv_xls_pdf.swf",
				"aButtons": [
					"copy",
					//"csv",
					//"xls",
					//"pdf",
					{
						"sExtends": "csv", "sFileName": printToFileName +".csv"
					},
					{
						"sExtends": "xls", "sFileName": printToFileName +".xls"
					},
					{
						"sExtends": "pdf", "sFileName": printToFileName +".pdf"
					},
					"print"
					]
			};

		ws_list += '&dateFrom='+ getFirstDayOfMonth() +'&dateTo='+ getCurrentDate(); // get current date range.
	/******************************* START HERE ***********************************/
	createDataTableObject(dt_domId, dt_columns, ds_list, ws_list, oTableTools);
	/****************************** END HERE ************************************/
	
});

</script>
<div class="panel panel-primary">
	<div class="panel-heading">
		<span class="glyphicon glyphicon-list-alt"></span> Event Log
	</div>
	<div class="panel-body">
		<table class="display compact" id="table-eventlog">
			<thead>
				<tr>
					<th class="text-left">ID</th>
					<th class="text-left">User ID</th>
					<th class="text-left">Record Time Stamp</th>
					<th class="text-left">Activity</th>
					<th class="text-left">User Name</th>
				</tr>
			</thead>
			<tbody>
			</tbody>
		</table>
	</div>
</div>